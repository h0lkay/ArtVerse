{% extends "base.html" %}

{% block title %}{{ artwork.title }}{% endblock %}

{% block content %}
<div class="artwork-detail-container">
    <!-- –ë–ª–æ–∫ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏ –∫–Ω–æ–ø–∫–∞–º–∏ -->
    <div class="artwork-detail-header">
        <img class="artwork-image" src="{{ artwork.image.url }}" alt="{{ artwork.title }}">
        <div class="right-panel">
            <div class="artwork-actions">
                {% if artwork.user == request.user %}
                    <a href="{% url 'users:edit_artwork' artwork.id %}" class="edit-button">üìù –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                    <form method="POST" action="{% url 'users:delete_artwork' artwork.id %}" class="delete-form">
                        {% csrf_token %}
                        <button type="submit" class="delete-button" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä?');">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                    </form>
                {% else %}
                    <!-- –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                    {% if artwork.is_sold %}
                        <button class="disabled-button" disabled>–ü—Ä–æ–¥–∞–Ω–æ</button>
                    {% else %}
                        <button class="buy-button">üõí –ö—É–ø–∏—Ç—å</button>
                    {% endif %}
                    <button type="submit" class="favorite-button">‚ù§Ô∏è –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
                {% endif %}
            </div>
            <!-- –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã -->
            <div class="artwork-description">
                <h1>{{ artwork.title }}</h1>
                <p>{{ artwork.description }}</p>
                <p class="artwork-price">–¶–µ–Ω–∞: {{ artwork.price }} —Ä—É–±.</p>
            </div>
            <div class="artwork-actions">
                {% if artwork.user != request.user %}
                    <!-- –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                    <a href="{% url 'users:artist_profile' artwork.user.username %}" class="profile-button">
                        üë§ –ü—Ä–æ—Ñ–∏–ª—å —Ö—É–¥–æ–∂–Ω–∏–∫–∞
                    </a>
                    <a href="{% url 'users:start_chat' artwork.id %}" class="message-button">
                        ‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–¥–∞–≤—Ü—É
                    </a>
                {% else %}
                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ—Ä–∞ -->
                    <p class="author-info">–≠—Ç–æ –≤–∞—à–∞ —Ä–∞–±–æ—Ç–∞!</p>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ —Ö—É–¥–æ–∂–Ω–∏–∫–∞ -->
    <div class="artist-portfolio">
        <h2>–î—Ä—É–≥–∏–µ —Ä–∞–±–æ—Ç—ã {{ artwork.user.username }}</h2>
        <div class="portfolio-container">
            {% if artist_portfolio %}
                <div class="portfolio-grid">
                    {% for image in artist_portfolio %}
                        <div class="portfolio-item">
                            <img src="{{ image.image.url }}" alt="{{ image.title }}" class="portfolio-image">
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>–£ —ç—Ç–æ–≥–æ —Ö—É–¥–æ–∂–Ω–∏–∫–∞ –ø–æ–∫–∞ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö —Ä–∞–±–æ—Ç.</p>
            {% endif %}
        </div>
    </div>

    <!-- –ë–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ -->
    <div class="comments-section">
        <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h2>
    </div>
</div>
{% endblock %}